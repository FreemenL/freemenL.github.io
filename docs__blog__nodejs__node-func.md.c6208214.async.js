(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{jJkW:function(e,n,t){"use strict";t.r(n);var a=t("FU0I"),r=t.n(a),l=t("F/hi"),c=t("P/fr"),o=t("3dEy"),s=r.a.memo((e=>{e.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"\u5e38\u7528\u6a21\u5757\u548c\u529f\u80fd\u51fd\u6570"},r.a.createElement(l["AnchorLink"],{to:"#\u5e38\u7528\u6a21\u5757\u548c\u529f\u80fd\u51fd\u6570","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5e38\u7528\u6a21\u5757\u548c\u529f\u80fd\u51fd\u6570"),r.a.createElement("h3",{id:"module-\u6a21\u5757"},r.a.createElement(l["AnchorLink"],{to:"#module-\u6a21\u5757","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"module \u6a21\u5757"),r.a.createElement("p",null,"node \u4e2d\u7684\u6a21\u5757\u5316\u9075\u5faa\u7684\u662fcommonjs \u89c4\u8303"),r.a.createElement("p",null,"\u5177\u4f53\u5b9e\u73b0\u662f\u4f1a\u628a\u6bcf\u4e2a\u6a21\u5757\u653e\u5728\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u51fd\u6570\u4e2d\u6267\u884c \uff0c\u8fd9\u4e2a\u51fd\u6570\u5305\u542b5\u4e2a\u53c2\u6570"),r.a.createElement(o["a"],null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u8be6\u60c5"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"exports")),r.a.createElement("td",null,"\u5f53\u524d\u6a21\u5757\u7684\u5bfc\u51fa\u5bf9\u8c61")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"require")),r.a.createElement("td",null,"require\u65b9\u6cd5")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"module")),r.a.createElement("td",null,"\u5f53\u524d\u6a21\u5757")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"__filename")),r.a.createElement("td",null,"\u5f53\u524d\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"__dirname")),r.a.createElement("td",null,"\u5f53\u524d\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84")))),r.a.createElement("h3",{id:"require-\u7684\u5c5e\u6027"},r.a.createElement(l["AnchorLink"],{to:"#require-\u7684\u5c5e\u6027","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"require \u7684\u5c5e\u6027"),r.a.createElement(o["a"],null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u8be6\u60c5"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"resolve")),r.a.createElement("td",null,"\u53ea\u60f3\u77e5\u9053\u6a21\u5757\u7684\u7edd\u5bf9\u8def\u5f84,\u4f46\u53c8\u4e0d\u60f3\u52a0\u8f7d\u5b83  require.resolve")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"extensions")),r.a.createElement("td",null,"nodejs\u6a21\u5757\u5206\u4e09\u79cd  js json node ","{"," '.js': [Function], '.json': [Function], '.node': [Function] ","}",",")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"main ")),r.a.createElement("td",null,"\u5165\u53e3\u6587\u4ef6")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("code",null,"cache")),r.a.createElement("td",null,"\u7f13\u5b58\u5bf9\u8c61 \u6a21\u5757\u5728\u7f13\u5b58\u7684\u65f6\u5019key\u503c\u4e3a\u5bfc\u5165\u6a21\u5757\u7684\u7edd\u5bf9\u8def\u5f84")))),r.a.createElement("h3",{id:"buffer"},r.a.createElement(l["AnchorLink"],{to:"#buffer","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Buffer"),r.a.createElement(c["a"],{code:'//\u89e3\u51b3\u4e71\u7801  \nlet buffer9 = Buffer.from("\u674e\u6d4b\u8bd5");\nlet buffer10 = buffer9.slice(0,5);\nconst { StringDecoder } = require("string_decoder");\nsd = new StringDecoder; //\u4e13\u95e8\u7528\u6765\u89e3\u51b3\u4e71\u7801\u95ee\u9898\u7684 \uff1b\nconsole.log(sd.write(buffer10)); // \u674e\nconsole.log(sd.write(buffer11)); // \u6d4b\u8bd5',lang:"js"}),r.a.createElement("h3",{id:"\u5408\u5e76buffer"},r.a.createElement(l["AnchorLink"],{to:"#\u5408\u5e76buffer","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5408\u5e76buffer"),r.a.createElement(c["a"],{code:'const buffer1 = Buffer.from("\u6d4b");\nconst buffer2 = Buffer.from("\u8bd5");\nBuffer.concat1 = function(list,total = list.reduce((len,item)=>len+item.length,0)){\n    if(list.length==1){\n        return list[0];\n    }\n    let result = Buffer.alloc(total);\n    let index = 0;\n    for(let buf of list){\n        for(let b of buf){\n            if(index<=total){\n                result[index++] = b;\n            }else{\n                return result;\n            }\n        }\n    }\n    return result;\n}\n\nconst result = Buffer.concat1([buffer1,buffer2]);\n\nconsole.log(result.toString());',lang:"js"}),r.a.createElement("h3",{id:"fs\u6a21\u5757"},r.a.createElement(l["AnchorLink"],{to:"#fs\u6a21\u5757","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"fs\u6a21\u5757"),r.a.createElement(o["a"],null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"params"),r.a.createElement("th",null,"detail"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"fs.rename()"),r.a.createElement("td",null,"\u4fee\u6539\u6587\u4ef6\u540d")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.truncate"),r.a.createElement("td",null,"\u622a\u65ad\u6587\u4ef6\u5185\u5bb9")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.unlink"),r.a.createElement("td",null,"\u5220\u9664\u6587\u4ef6")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.rmdir"),r.a.createElement("td",null,"\u5220\u9664\u975e\u7a7a\u76ee\u5f55")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.watchFile"),r.a.createElement("td",null,"\u76d1\u542c\u6587\u4ef6\u6539\u52a8")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.statSync"),r.a.createElement("td",null,"\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.open"),r.a.createElement("td",null,"\u6253\u5f00\u6587\u4ef6")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.close"),r.a.createElement("td",null,"\u5173\u95ed\u6587\u4ef6")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.createReadStream"),r.a.createElement("td",null,"\u521b\u5efa\u53ef\u8bfb\u6d41")),r.a.createElement("tr",null,r.a.createElement("td",null,"fs.createWriteStream"),r.a.createElement("td",null,"\u521b\u5efa\u53ef\u5199\u6d41")))),r.a.createElement("h3",{id:"\u5f02\u6b65\u8bfb\u6587\u4ef6"},r.a.createElement(l["AnchorLink"],{to:"#\u5f02\u6b65\u8bfb\u6587\u4ef6","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5f02\u6b65\u8bfb\u6587\u4ef6"),r.a.createElement(c["a"],{code:'fs.readFile(\'./1.txt\',{ encoding:"utf8",flag:"r"},function(error,data){\n    if(error){\n        console.log(error);\n    }else{\n        console.log(data);\n    }\n})',lang:"js"}),r.a.createElement("h3",{id:"\u5f02\u6b65\u5199\u5165\u6587\u4ef6"},r.a.createElement(l["AnchorLink"],{to:"#\u5f02\u6b65\u5199\u5165\u6587\u4ef6","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5f02\u6b65\u5199\u5165\u6587\u4ef6"),r.a.createElement(c["a"],{code:'/* \n   flag:a    \u8ffd\u52a0\u5199\u5165 \n   mode      linux \u6743\u9650\u4f4d \n*/\nfs.writeFile("./2.txt",\'data\',{encoding:"utf8",flag:"a",mode:0o666},function(error){\n    if(error){\n        console.log(error)\n    }\n})',lang:"js"}),r.a.createElement("h3",{id:"\u8ffd\u52a0\u5199\u5165"},r.a.createElement(l["AnchorLink"],{to:"#\u8ffd\u52a0\u5199\u5165","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8ffd\u52a0\u5199\u5165"),r.a.createElement(c["a"],{code:"fs.appendFile(\"./2.txt\",'data1',function(error){\n    if(error){\n        console.log(error)\n    }\n})",lang:"js"}),r.a.createElement("h3",{id:"\u7cbe\u786e\u7684\u63a7\u5236\u8bfb\u53d6\u7684\u5b57\u8282"},r.a.createElement(l["AnchorLink"],{to:"#\u7cbe\u786e\u7684\u63a7\u5236\u8bfb\u53d6\u7684\u5b57\u8282","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u7cbe\u786e\u7684\u63a7\u5236\u8bfb\u53d6\u7684\u5b57\u8282"),r.a.createElement(c["a"],{code:"//fd:file descript   \u6587\u4ef6\u63cf\u8ff0\u7b26 \nfs.open(\"./1.txt\",'r',0o666,function(err,fd){\n    let buffer = Buffer.alloc(4);\n    // \u8bfb\u53d6\u6587\u4ef6\u90e8\u5206\u5185\u5bb9\n    fs.read(fd,buffer,1,3,1,function(err,bytesRead,buffe){\n        console.log(buffe.toString());\n    })\n})",lang:"js"}),r.a.createElement("h3",{id:"process\u76d1\u542c\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa"},r.a.createElement(l["AnchorLink"],{to:"#process\u76d1\u542c\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"process\u76d1\u542c\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa"),r.a.createElement(c["a"],{code:'//\u76d1\u542c\u63a7\u5236\u53f0\u8f93\u5165  \u6807\u51c6\u8f93\u5165\nprocess.stdin.on("data",function(data){\n    console.log(data);\n})\n//\u6807\u51c6\u8f93\u51fa  consoel.log \u5bf9\u5e94 process.stdout.write\nconsole.log(\'hellow\');\nprocess.stdout.write("hellow");\n//\u9519\u8bef\u8f93\u51fa  consoel.error \u5bf9\u5e94 process.stderr.write\nconsole.error(\'hellow\');\nprocess.stderr.write("hellow");',lang:"unknown"}),r.a.createElement("h3",{id:"\u8fb9\u8bfb\u8fb9\u5199"},r.a.createElement(l["AnchorLink"],{to:"#\u8fb9\u8bfb\u8fb9\u5199","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8fb9\u8bfb\u8fb9\u5199"),r.a.createElement(c["a"],{code:"const fs = require(\"fs\"); \nconst BUFFER_SIZE = 6;\nfunction copy(src,target) {\n    const buffer = Buffer.alloc(BUFFER_SIZE)\n    fs.open(src,'r',0o666,function(error,readFd){\n        fs.open(target,'w',0o666,function(err,writeFd){\n            !function next(){\n                fs.read(readFd,buffer,0,BUFFER_SIZE,null,function(err1,bytesRead){\n                    if(bytesRead>0){\n                        fs.write(writeFd,buffer,0,bytesRead,null,next)\n                    }\n                })\n            }()\n        })\n    })\n}\n\ncopy('./2.txt','./1.txt');",lang:"js"}),r.a.createElement("h3",{id:"\u521b\u5efa\u76ee\u5f55"},r.a.createElement(l["AnchorLink"],{to:"#\u521b\u5efa\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u521b\u5efa\u76ee\u5f55"),r.a.createElement("p",null,"\u521b\u5efa\u76ee\u5f55\u7684\u65f6\u5019\u5176\u7236\u76ee\u5f55\u5fc5\u987b\u662f\u5b58\u5728\u7684"),r.a.createElement(c["a"],{code:"const fs = require(\"fs\");\nfs.mkdir('a',0o666,function(error){\n    console.log(error);\n})",lang:"js"}),r.a.createElement("h3",{id:"\u9012\u5f52\u5220\u9664\u975e\u7a7a\u76ee\u5f55"},r.a.createElement(l["AnchorLink"],{to:"#\u9012\u5f52\u5220\u9664\u975e\u7a7a\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u9012\u5f52\u5220\u9664\u975e\u7a7a\u76ee\u5f55"),r.a.createElement(c["a"],{code:'const fs = require("fs");\n//\u9012\u5f52\u5220\u9664\u975e\u7a7a\u76ee\u5f55   \nfunction rmdir(dir){\n    let files = fs.readdirSync(dir);\n    files.forEach((file)=>{\n        let current = dir+"/"+file;\n        let child = fs.statSync(current);\n        if(child.isDirectory()){\n            rmdir(current);\n        }else{\n            fs.unlinkSync(current);\n        }\n    })\n    fs.rmdirSync(dir)\n}\nrmdir(\'a\');',lang:"js"}),r.a.createElement("h3",{id:"\u76d1\u542c\u6587\u4ef6\u53d8\u52a8"},r.a.createElement(l["AnchorLink"],{to:"#\u76d1\u542c\u6587\u4ef6\u53d8\u52a8","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u76d1\u542c\u6587\u4ef6\u53d8\u52a8"),r.a.createElement(c["a"],{code:"fs.watchFile('./a.txt',(newStat,preStat)=>{\n    if(Date.parse(preStat.ctime)==0){\n        console.log(\"create\");\n    }else if(Date.parse(preStat.ctime)!==Date.parse(newStat.ctime)){\n        console.log(\"update\")\n    }else{\n        console.log('delete');\n    }\n})",lang:"js"}),r.a.createElement("h3",{id:"\u53ef\u8bfb\u6d41"},r.a.createElement(l["AnchorLink"],{to:"#\u53ef\u8bfb\u6d41","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u53ef\u8bfb\u6d41"),r.a.createElement(c["a"],{code:'const fs = require("fs");\n//\u53ef\u8bfb\u6d41\nconst rs = fs.createReadStream(\'./a.txt\',{\n    mode:0o666,\n    encoding:"utf8",\n    flags:"r",\n    start:3,\n    end:8,\n    highWaterMark:3\n});\nrs.on("open",function(data){\n    console.log(\'open\');\n});\nrs.on("data",function(data){\n    console.log(data);\n    rs.pause();\n    setTimeout(function(){  \n        rs.resume();\n    },2000)\n})\nrs.on("end",function(data){\n    console.log(\'end\');\n})\n\nrs.on("error",function(data){\n    console.log(\'error\');\n})\nrs.on("close",function(data){\n    console.log(\'close\');\n})',lang:"js"}),r.a.createElement(c["a"],{code:'const fs  = require("fs");\nconst path = require("path");\nfs.readdir(\'./a\',function(err,files){\n    files.forEach(file=>{\n        let child = path.join("a",file);\n        fs.stat(child,function(err,stat){\n            console.log(stat);\n            //stat  \u6587\u4ef6\u4fe1\u606f\n            // {\n            //     dev: 16777220, //\u8bbe\u5907\u53f7\n            //     mode: 16877,  \n            //     nlink: 2,   \n            //     uid: 501,  // \u7528\u6237id\n            //     gid: 20,   //\u7528\u6237\u7ec4id\n            //     rdev: 0,\n            //     blksize: 4194304,\n            //     ino: 8880296,\n            //     size: 64,\n            //     blocks: 0,\n            //     atimeMs: 1551535852915.9565,\n            //     mtimeMs: 1551535852801.7656,\n            //     ctimeMs: 1551535852801.7656,  //\n            //     birthtimeMs: 1551535852801.7656,\n            //     atime: 2019-03-02T14:10:52.916Z,  //\u6587\u4ef6\u8bbf\u95ee\u4e8b\u4ef6\n            //     mtime: 2019-03-02T14:10:52.802Z,  //\u6587\u4ef6\u66f4\u65b0\u4e8b\u4ef6\n            //     ctime: 2019-03-02T14:10:52.802Z,   // \u6587\u4ef6\u5185\u5bb9\u66f4\u65b0\u4e8b\u4ef6\n            //     birthtime: 2019-03-02T14:10:52.802Z } //\u521b\u5efa\u65f6\u95f4\n        })\n    })\n})',lang:"js"}),r.a.createElement("h3",{id:"\u53ef\u5199\u6d41"},r.a.createElement(l["AnchorLink"],{to:"#\u53ef\u5199\u6d41","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u53ef\u5199\u6d41"),r.a.createElement(c["a"],{code:"const fs = require(\"fs\");\nconst str = \"\u5b66\u4e60\";\n\nfs.open('1.txt','w',0o666,(err,fd)=>{\n    let buff = Buffer.from(str);\n    //\u5f53\u6211\u4eec\u7528write \u65b9\u6cd5\u5199\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u4f1a\u76f4\u63a5\u5199\u5165\u7269\u7406\u6587\u4ef6\uff0c\u800c\u662f\u5148\u5199\u5165\u7f13\u5b58\u533a\uff0c\u518d\u6279\u91cf\u5199\u5165\u7269\u7406\u6587\u4ef6\n    fs.write(fd,buff,0,3,0,(err,bytesWritten)=>{\n        fs.write(fd,buff,3,3,3,(error,bytesWritten2)=>{\n            //fs.fsync  \u8feb\u4f7f\u64cd\u4f5c\u7cfb\u7edf\u7acb\u9a6c\u628a\u7f13\u5b58\u533a\u7684\u5185\u5bb9\u5199\u5165\u7269\u7406\u6587\u4ef6 \n            fs.fsync(fd,()=>{\n                fs.close(fd,()=>{\n                    console.log('\u5173\u95ed\u5b8c\u6210!');\n                })\n            })\n        })\n    })\n})",lang:"js"}),r.a.createElement(c["a"],{code:'const fs = require(\'fs\');\n//\u53ef\u5199\u6d41 \nconst ws = fs.createWriteStream(\'./2.txt\',{\n    flags:"w",\n    start:0,\n    highWaterMark:3,\n    mode:0o666\n});\n\nlet flag = ws.write("1");\nconsole.log(flag)\nflag = ws.write("2");\nconsole.log(flag)\nflag = ws.write("3");\nconsole.log(flag)\nflag = ws.write("4");\nconsole.log(flag)\nflag = ws.write("5");\nconsole.log(flag)',lang:"js"}),r.a.createElement("h2",{id:"\u9010\u884c\u8bfb\u6587\u4ef6\u5185\u5bb9"},r.a.createElement(l["AnchorLink"],{to:"#\u9010\u884c\u8bfb\u6587\u4ef6\u5185\u5bb9","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u9010\u884c\u8bfb\u6587\u4ef6\u5185\u5bb9"),r.a.createElement(c["a"],{code:'const fs = require("fs");\nconst EventEmitter = require("events");\nconst util = require("util");\n\nconst NEW_LINE = 0x0A; // /n\u6362\u884c\nconst RETURN = 0x0D;  // /r \u56de\u8f66\nfunction lineReader(path,encoding){\n    EventEmitter.call(this);\n    this.encoding = encoding;\n    this._reader = fs.createReadStream(path);\n    this.on("newListener",(type,listener)=>{\n        if(type === "newLine" ){\n            let buffer = []\n            this._reader.on("readable",()=>{\n                let char; //Buffer \n                while(null != (char=this._reader.read(1))){\n                    switch(char[0]){\n                        case NEW_LINE:\n                            this.emit(\'newLine\',Buffer.from(buffer).toString(this.encoding));\n                            buffer.length = 0;\n                            break;\n                        case RETURN:\n                            this.emit(\'newLine\',Buffer.from(buffer).toString(this.encoding));\n                            buffer.length = 0;\n                            let newChar = this._reader.read(1);\n                            if(newChar[0]!=NEW_LINE){\n                                buffer.push(newChar[0]);\n                            }\n                            break;\n                        default:\n                            buffer.push(char[0]);\n                            break;\n                    }\n                }\n            });\n            this._reader.on("end",()=>{\n                this.emit(\'newLine\',Buffer.from(buffer).toString(this.encoding))\n                this.emit(\'end\');\n            });\n        }\n    })\n}\n\nutil.inherits(lineReader,EventEmitter);\nmodule.exports = lineReader;\n//=======================================================\nconst lineReader  = require(\'./lineReader\');\nconst reader = new lineReader(\'./1.txt\',\'utf8\');\n\nreader.on("newLine",(data)=>{\n    console.log(data);\n})\nreader.on("end",(data)=>{\n    console.log("over");;\n})',lang:"js"}),r.a.createElement("h3",{id:"\u5bf9\u8c61\u6d41"},r.a.createElement(l["AnchorLink"],{to:"#\u5bf9\u8c61\u6d41","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5bf9\u8c61\u6d41"),r.a.createElement(c["a"],{code:'const { Transform } = require("stream");\nconst fs = require(\'fs\');\nconst rs = fs.createReadStream("./test.json");\n\nconst toJSON = Transform({\n    readableObjectMode:true, //\u53ef\u4ee5\u5f80\u53ef\u8bfb\u6d41\u91cc\u653e\u5bf9\u8c61 \n    transform(chunk,encoding,cb){\n        this.push(JSON.parse(chunk.toString()));\n    }\n})\n\nconst outJSON = Transform({\n    writableObjectMode:true, //\u53ef\u4ee5\u5f80\u53ef\u5199\u6d41\u91cc\u653e\u5bf9\u8c61 \n    transform(chunk,encoding,cb){\n        console.log(chunk);\n        cb();\n    }\n})\nrs.pipe(toJSON).pipe(outJSON);',lang:"js"}),r.a.createElement("h3",{id:"path\u6a21\u5757"},r.a.createElement(l["AnchorLink"],{to:"#path\u6a21\u5757","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"path\u6a21\u5757"),r.a.createElement(o["a"],null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u8be6\u60c5"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"path.delimiter"),r.a.createElement("td",null,"\u73af\u5883\u53d8\u91cf\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.win32.delimiter"),r.a.createElement("td",null,"\u73af\u5883\u53d8\u91cf\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.posix.delimiter"),r.a.createElement("td",null,"\u73af\u5883\u53d8\u91cf\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.sep)"),r.a.createElement("td",null,"\u6587\u4ef6\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.win32.sep)"),r.a.createElement("td",null,"\u6587\u4ef6\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.posix.sep)"),r.a.createElement("td",null,"\u6587\u4ef6\u8def\u5f84\u5206\u9694\u7b26")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.relative"),r.a.createElement("td",null,"\u83b7\u53d6\u4e24\u4e2a\u8def\u5f84\u4e4b\u95f4\u7684\u76f8\u5bf9\u8def\u5f84")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.basename"),r.a.createElement("td",null,"\u83b7\u53d6\u6587\u4ef6\u7edd\u5bf9\u8def\u5f84")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.extname('ll.jpg')"),r.a.createElement("td",null,"\u83b7\u53d6\u6587\u4ef6\u62d3\u5c55\u540d")),r.a.createElement("tr",null,r.a.createElement("td",null,"path.resolve()"),r.a.createElement("td",null,"\u5c06\u8def\u5f84\u6216\u8def\u5f84\u7247\u6bb5\u7684\u5e8f\u5217\u89e3\u6790\u4e3a\u7edd\u5bf9\u8def\u5f84")))),r.a.createElement("h3",{id:"stream"},r.a.createElement(l["AnchorLink"],{to:"#stream","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"stream"),r.a.createElement(c["a"],{code:"let { Duplex } = require(\"stream\");\nlet index = 0;\n//\u53cc\u5de5\u6d41  \nlet s = Duplex({\n    read(){\n        while(index++<3){\n            this.push('a');\n        }\n        this.push(null);\n    },\n    write(chunk,encoding,cb){\n        console.log(chunk.toString().toUpperCase());\n        cb();\n    }\n});\n\nprocess.stdin.pipe(s).pipe(process.stdout);",lang:"js"}),r.a.createElement("h3",{id:"\u5bf9\u8c61\u6d41-1"},r.a.createElement(l["AnchorLink"],{to:"#\u5bf9\u8c61\u6d41-1","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5bf9\u8c61\u6d41"),r.a.createElement(c["a"],{code:'//\nconst { Transform } = require("stream");\nconst fs = require(\'fs\');\nconst rs = fs.createReadStream("./test.json");\n\nconst toJSON = Transform({\n    readableObjectMode:true, //\u53ef\u4ee5\u5f80\u53ef\u8bfb\u6d41\u91cc\u653e\u5bf9\u8c61 \n    transform(chunk,encoding,cb){\n        this.push(JSON.parse(chunk.toString()));\n    }\n})\n\nconst outJSON = Transform({\n    writableObjectMode:true, //\u53ef\u4ee5\u5f80\u53ef\u5199\u6d41\u91cc\u653e\u5bf9\u8c61 \n    transform(chunk,encoding,cb){\n        console.log(chunk);\n        cb();\n    }\n})\nrs.pipe(toJSON).pipe(outJSON);',lang:"js"}),r.a.createElement(c["a"],{code:"const { Writable , Readable } = require('stream');\nlet i = 0;\nlet rs = Readable({\n    highWaterMark:2,\n    read(){\n        if(i<10){\n            this.push(\"\"+i++);\n        }else{\n            this.push(null);\n        }\n    }\n})\nlet ws = Writable({\n    highWaterMark:2,\n    write(chunk,encoding,callback){\n        console.log(chunk.toString())\n        callback()\n    }\n});\n\nrs.pipe(ws);\n\nsetTimeout(function(){\n    console.log(rs._readableState.length);\n    console.log(ws._writableState.length);\n})",lang:"js"}),r.a.createElement("h3",{id:"\u8f6c\u6362\u6d41"},r.a.createElement(l["AnchorLink"],{to:"#\u8f6c\u6362\u6d41","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8f6c\u6362\u6d41"),r.a.createElement(c["a"],{code:'const { Transform } = require("stream");\n// \u8f6c\u6362\u6d41\u662f\u5b9e\u73b0\u6570\u636e\u8f6c\u6362\u7684  \nlet t = Transform({\n    transform(chunk,encoding,cb){\n        this.push(chunk.toString().toUpperCase());\n        cb()\n    }\n})\nprocess.stdin.pipe(t).pipe(process.stdout);',lang:"js"}),r.a.createElement("h3",{id:"yargs-\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570"},r.a.createElement(l["AnchorLink"],{to:"#yargs-\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"yargs \u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570"),r.a.createElement("p",null,"node \u539f\u751f\u53ef\u4ee5\u4f7f\u7528 process.argv  \u6765\u83b7\u53d6 \u4f46\u64cd\u4f5c\u8d77\u6765\u4e0d\u662f\u5f88\u65b9\u4fbf \u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u50cf",r.a.createElement("code",null,"yargs"),r.a.createElement("code",null,"commander"),"\u7b49\u4e00\u4e9b\u7b2c\u4e09\u65b9\u7684\u6a21\u5757"),r.a.createElement(c["a"],{code:'//yargs\n#!/usr/bin/env node\nconst yargs = require("yargs");\nlet argv = yargs.options(\'n\',{\n    alias:"name",//\u522b\u540d\n    demand:true,//\u5fc5\u586b\n    default:\'lxj\',\n    description:"\u8bf7\u8f93\u5165\u59d3\u540d"\n})\n.usage("hello [options]")\n.help()\n.example("hello -n lxj","\u6267\u884chello \u4f20\u5165\u53c2\u6570\u4e3alxj")\n.alias("h","help")\n.argv;\n\nconsole.log(argv);\nconsole.log(argv.name);',lang:"js"}),r.a.createElement("h3",{id:"commander-\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570"},r.a.createElement(l["AnchorLink"],{to:"#commander-\u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"commander \u83b7\u53d6\u547d\u4ee4\u884c\u53c2\u6570"),r.a.createElement(c["a"],{code:"const program = require('commander');\nprogram\n  .version(packageInfo.version)\n  .command('run [name]', 'run specified task')\n  .parse(process.argv);",lang:"js"})))}));n["default"]=e=>{var n=r.a.useContext(l["context"]),t=n.demos;return r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(s,{demos:t})}}}]);