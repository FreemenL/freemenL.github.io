(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{kbh1:function(n,e,t){"use strict";t.r(e);var a=t("xwgP"),o=t.n(a),r=t("nFtg"),d=t("INx8"),c=o.a.memo((n=>{n.demos;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"markdown"},o.a.createElement("h3",{id:"\u524d\u7aef\u6027\u80fd\u76d1\u63a7"},o.a.createElement(r["AnchorLink"],{to:"#\u524d\u7aef\u6027\u80fd\u76d1\u63a7","aria-hidden":"true",tabIndex:-1},o.a.createElement("span",{className:"icon icon-link"})),"\u524d\u7aef\u6027\u80fd\u76d1\u63a7"),o.a.createElement("img",{src:"https://img-blog.csdnimg.cn/20190120210302774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NjUzNDQ5,size_16,color_FFFFFF,t_70"}),o.a.createElement("p",null,"window.performance \u662f W3C \u6027\u80fd\u5c0f\u7ec4\u5f15\u5165\u7684\u65b0\u7684 API\uff0c\u76ee\u524d IE9 \u4ee5\u4e0a\u7684\u6d4f\u89c8\u5668\u90fd\u652f\u6301"),o.a.createElement("p",null,"Performance.timing \u53ea\u8bfb\u5c5e\u6027\u8fd4\u56de\u4e00\u4e2a PerformanceTiming \u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u5305\u62ec\u4e86\u9875\u9762\u76f8\u5173\u7684\u6027\u80fd\u4fe1\u606f"),o.a.createElement(d["a"],{code:"navigationStart          \u524d\u4e00\u4e2a\u7f51\u9875\u7684\u5378\u8f7d\u65f6\u95f4\n\nunloadEventStart         \u524d\u4e00\u4e2a\u7f51\u9875\u5173\u6389\u7684\u4e8b\u4ef6\n\nunloadEventEnd           \u524d\u4e00\u4e2a\u7f51\u9875\u7684unload \u4e8b\u4ef6\u7ed3\u675f\n\nredirectStart            \u91cd\u5b9a\u5411\u5f00\u59cb\u65f6\u95f4\n\nredirectEnd              \u91cd\u5b9a\u5411\u7ed3\u675f\u65f6\u95f4\n\nfetchStart               \u5f00\u59cb\u8bf7\u6c42\u9875\u9762\n\ndomainLookupEnd          DNS \u67e5\u8be2\u5f00\u59cb\n\ndomainLookupStart        DNS \u67e5\u8be2\u7ed3\u675f\n\nconnectStart             \u5411\u670d\u52a1\u5668\u5efa\u7acb\u63e1\u624b\u5f00\u59cb\n\nconnectEnd               \u5411\u670d\u52a1\u5668\u5efa\u7acb\u63e1\u624b\u7ed3\u675f\n\nsecureConnectionStart    \u5b89\u5168\u63e1\u624b\u5f00\u59cb\n\nrequestStart             \u5411\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u5f00\u59cb\n\nresponseStart            \u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u5f00\u59cb\n\nresponseEnd              \u670d\u52a1\u5668\u8fd4\u56de\u6570\u636e\u7ed3\u675f\n\ndomLoading               \u89e3\u6790dom\u5f00\u59cb\n\ndomInteractive           \u89e3\u6790dom \u7ed3\u675f\n\ndomContentLoadedEventStart      ContentLoaded\u5f00\u59cb\n\ndomContentLoadedEventEnd        ContentLoaded\u7ed3\u675f\n\ndomComplete                     \u6587\u6863\u89e3\u6790\u5b8c\u6210\n\nloadEventStart                  load\u4e8b\u4ef6\u53d1\u9001\u524d\n\nloadEventEnd                    load\u4e8b\u4ef6\u53d1\u9001\u540e",lang:"bash"}),o.a.createElement("p",null,"\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b:"),o.a.createElement(d["a"],{code:"let isDOMready = false;\nlet util = {\n  getperfData: p => {\n    let data = {\n      /******** \u7f51\u7edc\u5efa\u8054\u65f6\u95f4 ********/\n\n      //\u4e0a\u4e00\u4e2a\u9875\u9762\u7684\u65f6\u95f4\n      prevPage: p.fetchStart - p.navigationStart,\n      //\u91cd\u5b9a\u5411\u65f6\u95f4\n      redirect: p.redirectEnd - p.redirectStart,\n      //dns \u67e5\u627e\u65f6\u95f4\n      dns: p.domainLookupEnd - p.domainLookupStart,\n      // Tcp \u5efa\u8fde\u65f6\u95f4\n      connect: p.connectEnd - p.connectStart,\n      // \u7f51\u7edc\u603b\u8017\u65f6\n      netWork: p.connectEnd - p.navigationStart,\n\n      /******** \u7f51\u7edc\u63a5\u6536\u65f6\u95f4 ********/\n\n      // \u524d\u7aef\u4ece\u53d1\u9001\u5230\u63a5\u6536\u7684\u65f6\u95f4\n      send: p.responseStart - p.requestStart,\n      // \u63a5\u6536\u6570\u636e\u7528\u65f6\n      receive: p.responseEnd - p.responseStart,\n      // \u8bf7\u6c42\u9875\u9762\u603b\u8017\u65f6\n      request: p.responseEnd - p.requestStart,\n\n      /******** \u524d\u7aef\u6e32\u67d3 ********/\n\n      //dom \u89e3\u6790\u65f6\u95f4\n      dom: p.domComplete - p.domLoading,\n      //loadEvent \u65f6\u95f4\n      loadEvent: p.loadEventEnd - p.loadEventStart,\n      //\u524d\u7aef\u603b\u65f6\u95f4\n      frontend: p.loadEventEnd - p.domLoading,\n\n      /******** \u5173\u952e\u9636\u6bb5 ********/\n\n      //\u9875\u9762\u5b8c\u5168\u52a0\u8f7d\u7684\u65f6\u95f4\n      load: p.loadEventEnd - p.navigationStart,\n      //dom\u51c6\u5907\u65f6\u95f4\n      domReady: p.domContentLoadedEventStart - p.navigationStart,\n      //\u53ef\u64cd\u4f5c\u65f6\u95f4\n      interactive: p.domInteractive - p.navigationStart,\n      //\u9996\u5b57\u8282\u65f6\u95f4\n      ttfb: p.responseStart - p.navigationStart,\n    };\n    return data;\n  },\n  //DOM \u89e3\u6790\u5b8c\u6210\n  domready: callback => {\n    let timmer = null;\n    let runCheck = () => {\n      if (isDOMready === true) {\n        return void 0;\n      }\n      if (performance.timing.domComplete) {\n        //1\uff0c\u505c\u6b62\u5faa\u73af\u68c0\u6d4b  2\uff0c\u8fd0\u884ccallback\n        clearTimeout(timmer);\n        callback();\n        isDOMready = true;\n      } else {\n        //\u518d\u53bb\u5faa\u73af\u68c0\u6d4b\n        timmer = setTimeout(runCheck, 0);\n      }\n    };\n\n    //\u6587\u6863\u5df2\u7ecf\u5b8c\u6210\u52a0\u8f7d\uff0c\u6587\u6863\u5df2\u88ab\u89e3\u6790\uff0c\u4f46\u662f\u8bf8\u5982\u56fe\u50cf\uff0c\u6837\u5f0f\u8868\u548c\u6846\u67b6\u4e4b\u7c7b\u7684\u5b50\u8d44\u6e90\u4ecd\u5728\u52a0\u8f7d\n    if (document.readyState === 'interactive') {\n      callback();\n      return void 0;\n    }\n\n    document.addEventListener('DOMContentLoaded', () => {\n      runCheck();\n    });\n  },\n};\n\nutil.domready(() => {\n  let performance = window.performance;\n  let perfData = util.getperfData(performance.timing);\n  debugger;\n});",lang:"js"})))}));e["default"]=n=>{var e=o.a.useContext(r["context"]),t=e.demos;return o.a.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&r["AnchorLink"].scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),o.a.createElement(c,{demos:t})}}}]);