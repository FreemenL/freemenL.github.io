(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{cHuZ:function(n,e,t){"use strict";t.r(e);var s=t("xwgP"),r=t.n(s),o=t("nFtg"),a=t("INx8"),l=r.a.memo((n=>{n.demos;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"antd-\u6e90\u7801-\u5b66\u4e60"},r.a.createElement(o["AnchorLink"],{to:"#antd-\u6e90\u7801-\u5b66\u4e60","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"antd \u6e90\u7801 \u5b66\u4e60"),r.a.createElement("p",null,"\u56e0\u4e3a\u4e4b\u524d\u81ea\u5df1\u4e5f\u5c01\u88c5\u8fc7\u901a\u7528\u7ec4\u4ef6\u5e93\u5e76\u4e0a\u4f20\u5230npm,  \u6240\u4ee5\u60ef\u6027\u9a71\u4f7f\u4e0b\u76f4\u63a5\u6253\u5f00\u4e86node_modules \u76ee\u5f55 \u4e0bantd\u7684 \u4ee3\u7801\u7ffb\u770b \u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u76ee\u5f55\u7ed3\u6784"),r.a.createElement(a["a"],{code:"\u251c\u2500\u2500 dist      \n\u251c\u2500\u2500 es \n\u251c\u2500\u2500 lib \n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 CHANGELOG.en-US.md\n\u251c\u2500\u2500 CHANGELOG.zh-CN.md\n\u251c\u2500\u2500 package.json \n\u251c\u2500\u2500 README.md",lang:"unknown"}),r.a.createElement("p",null,"\u901a\u8fc7\u67e5\u770bpackage.json \u7684\u4fe1\u606f\uff0c\u5e76\u4ece\u4f7f\u7528\u8005\u7684\u89d2\u5ea6\u53bb\u601d\u8003 \u9996\u5148\u5c31\u6253\u5f00\u4e86",r.a.createElement("code",null,"locale-provider")," \u8fd9\u4e2a\u6587\u4ef6\u76ee\u5f55\uff0c\u5f53\u770b\u5230\u5982\u4e0b\u4ee3\u7801\u65f6 \u53d1\u73b0\u81ea\u5df1\u627e\u9519\u4e86\u65b9\u5411"),r.a.createElement(a["a"],{code:'function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n}',lang:"js"}),r.a.createElement("p",null,"\u8fd9\u6bb5\u4ee3\u7801\uff0c\u660e\u663e\u662fbabel \u5bf9class \u7f16\u8bd1\u540e\u7684\u4ea7\u7269 \uff0cso  \u6253\u5f00github\u4e0a\u7684\u4ee3\u7801\u67e5\u770b\u540e\u624d\u660e\u767d antd\u5305\u91cc\u7684\u4ee3\u7801\u786e\u5b9e\u662f\u7ecf\u8fc7\u7f16\u8bd1\u540e\u7684\u7ed3\u679c\uff0c\u5c31\u60f3\u5230\u4e86\u81ea\u5df1\u4e4b\u524d\u7684\u65b9\u5f0f\u5b58\u5728\u95ee\u9898"),r.a.createElement("p",null,"\u63a5\u4e0b\u6765\u5f00\u59cb\u67e5\u770bantd \u7684\u4ee3\u7801..."),r.a.createElement("blockquote",null,r.a.createElement("p",null,"package.json")),r.a.createElement(a["a"],{code:'{\n  //\u9879\u76ee\u540d\u79f0\n  "name": "antd",\n  //\u7248\u672c\u53f7\n  "version": "3.13.5",\n  //\u6807\u9898\n  "title": "Ant Design",\n  //\u9879\u76ee\u63cf\u8ff0\n  "description": "An enterprise-class UI design language and React-based implementation",\n //\u4e3b\u9875\n  "homepage": "http://ant.design/",\n  //\u5173\u952e\u5b57\n  "keywords": [\n    "ant",\n    "design",\n    "react",\n    "react-component",\n    "component",\n    "components",\n    "ui",\n    "framework",\n    "frontend"\n  ],\n  "contributors": [\n    "ant"\n  ],\n  "repository": {\n    "type": "git",\n    "url": "https://github.com/ant-design/ant-design"\n  },\n  "bugs": {\n    "url": "https://github.com/ant-design/ant-design/issues"\n  },\n  //\u5165\u53e3\u6587\u4ef6  commonjs\u6a21\u5757\u5316\u89c4\u8303\n  "main": "lib/index.js",\n  //\u5165\u53e3\u6587\u4ef6  es6\u6a21\u5757\u5316\u89c4\u8303\n  "module": "es/index.js",\n  //\u6587\u4ef6\u76ee\u5f55\n  "files": [\n    "dist",\n    "lib",\n    "es"\n  ],\n  //ts \u7c7b\u578b\u58f0\u660e\u6587\u4ef6\n  "typings": "lib/index.d.ts",\n  "license": "MIT",\n  //\u4f9d\u8d56\u7248\u672c\u8bf4\u660e\n  "peerDependencies": {\n    "react": ">=16.0.0",\n    "react-dom": ">=16.0.0"\n  },\n  //\u751f\u4ea7\u4f9d\u8d56\n  "dependencies": {\n    "@ant-design/icons": "~1.1.16",\n    "@ant-design/icons-react": "~1.1.2",\n    "array-tree-filter": "^2.1.0",\n    "babel-runtime": "6.x",\n    "classnames": "~2.2.6",\n    "create-react-class": "^15.6.3",\n    "create-react-context": "0.2.2",\n    "css-animation": "^1.5.0",\n    "dom-closest": "^0.2.0",\n    "enquire.js": "^2.1.6",\n    "lodash": "^4.17.11",\n    "moment": "^2.24.0",\n    "omit.js": "^1.0.0",\n    "prop-types": "^15.6.2",\n    "raf": "^3.4.0",\n    "rc-animate": "^2.5.4",\n    "rc-calendar": "~9.10.3",\n    "rc-cascader": "~0.17.0",\n    "rc-checkbox": "~2.1.5",\n    "rc-collapse": "~1.10.2",\n    "rc-dialog": "~7.3.0",\n    "rc-drawer": "~1.7.6",\n    "rc-dropdown": "~2.4.1",\n    "rc-editor-mention": "^1.1.7",\n    "rc-form": "^2.4.0",\n    "rc-input-number": "~4.3.7",\n    "rc-menu": "~7.4.12",\n    "rc-notification": "~3.3.0",\n    "rc-pagination": "~1.17.7",\n    "rc-progress": "~2.3.0",\n    "rc-rate": "~2.5.0",\n    "rc-select": "^8.6.7",\n    "rc-slider": "~8.6.5",\n    "rc-steps": "~3.3.0",\n    "rc-switch": "~1.9.0",\n    "rc-table": "~6.4.0",\n    "rc-tabs": "~9.6.0",\n    "rc-time-picker": "~3.6.1",\n    "rc-tooltip": "~3.7.3",\n    "rc-tree": "~1.14.6",\n    "rc-tree-select": "~2.5.0",\n    "rc-trigger": "^2.6.2",\n    "rc-upload": "~2.6.0",\n    "rc-util": "^4.5.1",\n    "react-lazy-load": "^3.0.13",\n    "react-lifecycles-compat": "^3.0.4",\n    "react-slick": "~0.23.2",\n    "resize-observer-polyfill": "^1.5.0",\n    "shallowequal": "^1.1.0",\n    "warning": "~4.0.2"\n  },\n  //\u5f00\u53d1\u4f9d\u8d56\n  "devDependencies": {\n    "@ant-design/colors": "^2.0.0",\n    "@sentry/browser": "^4.5.2",\n    "@types/classnames": "^2.2.6",\n    "@types/prop-types": "^15.5.6",\n    "@types/react": "~16.8.1",\n    "@types/react-dom": "^16.0.11",\n    "@types/react-intl": "^2.3.14",\n    "@types/react-slick": "^0.23.2",\n    "@types/warning": "^3.0.0",\n    "@yesmeck/offline-plugin": "^5.0.5",\n    "ansi-styles": "^3.2.1",\n    "antd-theme-generator": "^1.1.4",\n    "antd-tools": "^7.0.1",\n    "babel-eslint": "^10.0.1",\n    "bisheng": "^1.1.0",\n    "bisheng-plugin-antd": "^1.0.0",\n    "bisheng-plugin-description": "^0.1.4",\n    "bisheng-plugin-react": "^1.0.0",\n    "bisheng-plugin-toc": "^0.4.4",\n    "chalk": "^2.4.1",\n    "commander": "^2.18.0",\n    "core-js": "^2.5.7",\n    "cross-env": "^5.2.0",\n    "css-split-webpack-plugin": "^0.2.6",\n    "dekko": "^0.2.1",\n    "docsearch.js": "^2.5.2",\n    "enquire-js": "^0.2.1",\n    "enzyme": "^3.7.0",\n    "enzyme-adapter-react-16": "^1.6.0",\n    "enzyme-to-json": "^3.3.4",\n    "eslint": "^5.6.1",\n    "eslint-config-airbnb": "^17.1.0",\n    "eslint-config-prettier": "^4.0.0",\n    "eslint-plugin-babel": "^5.2.1",\n    "eslint-plugin-import": "^2.14.0",\n    "eslint-plugin-jsx-a11y": "^6.1.2",\n    "eslint-plugin-markdown": "~1.0.0-beta.6",\n    "eslint-plugin-react": "^7.11.1",\n    "eslint-tinker": "^0.5.0",\n    "fetch-jsonp": "^1.1.3",\n    "glob": "^7.1.3",\n    "immutability-helper": "^3.0.0",\n    "intersection-observer": "^0.5.0",\n    "jest": "^24.0.0",\n    "jsdom": "^13.0.0",\n    "jsonml.js": "^0.1.0",\n    "lint-staged": "^8.0.2",\n    "lz-string": "^1.4.4",\n    "majo": "^0.7.1",\n    "mockdate": "^2.0.2",\n    "pre-commit": "^1.2.2",\n    "preact": "^8.3.1",\n    "preact-compat": "^3.18.4",\n    "prettier": "^1.15.3",\n    "querystring": "^0.2.0",\n    "rc-queue-anim": "^1.6.6",\n    "rc-scroll-anim": "^2.5.5",\n    "rc-tween-one": "^2.2.12",\n    "react": "^16.5.2",\n    "react-color": "^2.14.1",\n    "react-copy-to-clipboard": "^5.0.1",\n    "react-dnd": "^7.0.2",\n    "react-dnd-html5-backend": "^7.0.2",\n    "react-document-title": "^2.0.3",\n    "react-dom": "^16.5.2",\n    "react-github-button": "^0.1.11",\n    "react-highlight-words": "^0.16.0",\n    "react-infinite-scroller": "^1.2.1",\n    "react-intl": "^2.7.0",\n    "react-resizable": "^1.7.5",\n    "react-router-dom": "^4.3.1",\n    "react-sticky": "^6.0.3",\n    "react-test-renderer": "^16.6.3",\n    "react-virtualized": "~9.21.0",\n    "remark-cli": "^6.0.1",\n    "remark-frontmatter": "^1.3.0",\n    "remark-lint": "^6.0.4",\n    "remark-parse": "^6.0.0",\n    "remark-preset-lint-recommended": "^3.0.2",\n    "remark-stringify": "^6.0.0",\n    "remark-yaml-config": "^4.0.2",\n    "reqwest": "^2.0.5",\n    "rimraf": "^2.6.2",\n    "scrollama": "^1.4.4",\n    "stylelint": "~9.10.1",\n    "stylelint-config-prettier": "^4.0.0",\n    "stylelint-config-rational-order": "^0.0.4",\n    "stylelint-config-standard": "^18.2.0",\n    "stylelint-declaration-block-no-ignored-properties": "^1.1.0",\n    "stylelint-order": "^2.0.0",\n    "typescript": "~3.3.1",\n    "unified": "^7.0.0",\n    "xhr-mock": "^2.4.1",\n    "xhr2": "^0.1.4"\n  },\n  // \u6267\u884c\u811a\u672c\n  "scripts": {\n    "test": "jest --config .jest.js --verbose=false --no-cache",\n    "test-node": "jest --config .jest.node.js --no-cache",\n    "test-all": "./scripts/test-all.sh",\n    "lint": "npm run lint:ts && npm run lint:es && npm run lint:demo && npm run lint:style",\n    "lint:ts": "npm run tsc && antd-tools run ts-lint",\n    "lint:es": "eslint tests site scripts components ./.*.js ./webpack.config.js --ext \'.js,.jsx\'",\n    "lint:md": "remark components/",\n    "lint:demo": "cross-env RUN_ENV=DEMO eslint components/*/demo/*.md --ext \'.md\'",\n    "lint:style": "stylelint \'{site,components}/**/*.less\' --syntax less",\n    "lint-fix:ts": "npm run tsc && antd-tools run ts-lint-fix",\n    "lint-fix": "npm run lint-fix:code && npm run lint-fix:demo && npm run lint-fix:style",\n    "lint-fix:code": "eslint --fix tests site scripts components ./.*.js ./webpack.config.js --ext \'.js,.jsx\'",\n    "lint-fix:demo": "eslint-tinker ./components/*/demo/*.md",\n    "lint-fix:style": "stylelint --fix \'{site,components}/**/*.less\' --syntax less",\n    "sort-api": "node ./scripts/sort-api-table.js",\n    "dist": "antd-tools run dist",\n    "compile": "antd-tools run compile",\n    "tsc": "tsc",\n    "start": "rimraf _site && mkdir _site && node ./scripts/generateColorLess.js && cross-env NODE_ENV=development bisheng start -c ./site/bisheng.config.js",\n    "start:preact": "node ./scripts/generateColorLess.js && cross-env NODE_ENV=development REACT_ENV=preact bisheng start -c ./site/bisheng.config.js",\n    "site": "cross-env NODE_ENV=production bisheng build --ssr -c ./site/bisheng.config.js && node ./scripts/generateColorLess.js",\n    "predeploy": "antd-tools run clean && npm run site && cp netlify.toml _site && cp -r .circleci _site",\n    "deploy": "bisheng gh-pages --push-only",\n    "deploy:china-mirror": "git checkout gh-pages && git pull origin gh-pages && git push git@gitee.com:ant-design/ant-design.git gh-pages",\n    "pub": "antd-tools run pub",\n    "prepublish": "antd-tools run guard",\n    "pre-publish": "npm run test-all && node ./scripts/prepub",\n    "authors": "git log --format=\'%aN <%aE>\' | sort -u | grep -v \'users.noreply.github.com\' | grep -v \'gitter.im\' | grep -v \'.local>\' | grep -v \'alibaba-inc.com\' | grep -v \'alipay.com\' | grep -v \'taobao.com\' > AUTHORS.txt",\n    "lint-staged": "lint-staged",\n    "lint-staged:ts": "tsc && node node_modules/tslint/bin/tslint",\n    "lint-staged:es": "eslint ./.*.js ./webpack.config.js",\n    "lint-staged:demo": "cross-env RUN_ENV=DEMO eslint --ext \'.md\'",\n    "prettier": "node ./scripts/prettier.js"\n  },\n  //\u63d0\u4ea4\u4ee3\u7801\u524d\u6267\u884c\u7684\u4efb\u52a1\n  "pre-commit": [\n    "lint-staged"\n  ],\n  //\u4ee3\u7801\u68c0\u67e5\n  "lint-staged": {\n    "components/**/*.tsx": [\n      "npm run lint-staged:ts",\n      "node ./scripts/pre-prettier.js",\n      "git add"\n    ],\n    "{tests,site,scripts,components}/**/*.{js,jsx}": [\n      "npm run lint-staged:es",\n      "node ./scripts/pre-prettier.js",\n      "git add"\n    ],\n    "{site,components}/**/*.less": [\n      "stylelint --syntax less",\n      "node ./scripts/pre-prettier.js",\n      "git add"\n    ],\n    "components/*/demo/*.md": [\n      "npm run lint-staged:demo"\n    ]\n  },\n  //\u6392\u9664treeShaking\n  "sideEffects": [\n    "dist/*",\n    "es/**/style/*",\n    "lib/**/style/*",\n    "*.less"\n  ]\n}',lang:"json"}),r.a.createElement("p",null,"\u6267\u884cscripts \u91cc\u7684\u811a\u672c\u540e\u53d1\u73b0"),r.a.createElement("p",null,"dist, lib\u76ee\u5f55\u5206\u522b\u4f7f\u7528",r.a.createElement("code",null,"npm run dist"),", ",r.a.createElement("code",null,"npm run compile"),"\u751f\u6210\u7684\u800c\u8fd9\u4e24\u4e2a\u547d\u4ee4\u6700\u7ec8\u90fd\u662f\u8c03\u7528\u7684",r.a.createElement("code",null,"antd-tools"),", \u56e0\u6b64\u6709\u5fc5\u987b\u8981\u5148\u4e86\u89e3\u4e0bantd-tools\u8fd9\u4e2a\u5de5\u5177\u3002\u4f46\u662fgithub.com\u4e0a\u5173\u4e8e\u8fd9\u4e2a\u5305\uff0c\u53ea\u6709\u6e90\u4ee3\u7801\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5c31\u4ece\u6e90\u7801\u7684\u5c42\u9762\u5206\u6790\u4e0b\u5b83"),r.a.createElement("h2",{id:"antd-tools\u6e90\u7801\u5206\u6790"},r.a.createElement(o["AnchorLink"],{to:"#antd-tools\u6e90\u7801\u5206\u6790","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"antd-tools\u6e90\u7801\u5206\u6790"),r.a.createElement("p",null,"antd-tools\u4e2d\u7684bin\u5c5e\u6027\u5185\u5bb9\u5982\u4e0b:"),r.a.createElement(a["a"],{code:'"bin": {\n  "antd-tools": "./bin/antd-tools.js",\n  "antd-tools-run": "./bin/antd-tools-run.js"\n}',lang:"json"}),r.a.createElement("p",null,"antd-tools\u5bf9\u5e94\u7684\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b:"),r.a.createElement(a["a"],{code:"#!/usr/bin/env node\nrequire('../lib/cli/');",lang:"json"}),r.a.createElement("p",null,"\u4e0b\u9762\u770b\u770blib/cli/index.js\u6587\u4ef6\u7684\u5185\u5bb9:"),r.a.createElement(a["a"],{code:"#!/usr/bin/env node\n'use strict';\nrequire('colorful').colorful();\nconst program = require('commander');\nconst packageInfo = require('../../package.json');\nprogram\n  .version(packageInfo.version)\n  .command('run [name]', 'run specified task')\n  .parse(process.argv);\n// https://github.com/tj/commander.js/pull/260\nconst proc = program.runningCommand;\nif (proc) {\n  proc.on('close', process.exit.bind(process));\n  proc.on('error', () => {\n    process.exit(1);\n  });\n}\nconst subCmd = program.args[0];\nif (!subCmd || subCmd !== 'run') {\n  program.help();\n}",lang:"js"}),r.a.createElement("p",null,"\u770b\u5230\u4e86\u964c\u751f\u7684\u4e1c\u897f",r.a.createElement("code",null,"colorful")," ",r.a.createElement("code",null,"commander"),r.a.createElement("code",null,"colorful")," \u662f\u7ed9\u547d\u4ee4\u884c\u6dfb\u52a0\u8272\u5f69",r.a.createElement("code",null,"commander.js"),"\u662fTJ\u6240\u5199\u7684\u4e00\u4e2a\u5de5\u5177\u5305\uff0c\u5176\u4f5c\u7528\u662f\u8ba9node\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u5236\u4f5c\u66f4\u52a0\u7b80\u5355\u3002"),r.a.createElement("p",null,"\u63a5\u4e0b\u6765\u770b",r.a.createElement("code",null,"commander")),r.a.createElement(a["a"],{code:"var program = require('commander');\n\nprogram\n  .version('0.1.0')\n  .option('-p, --peppers', 'Add peppers')\n  .option('-P, --pineapple', 'Add pineapple')\n  .option('-b, --bbq-sauce', 'Add bbq sauce')\n  .option('-c, --cheese [type]', 'Add the specified type of cheese [marble]', 'marble')\n  .parse(process.argv);\n\nconsole.log('you ordered a pizza with:');\nif (program.peppers) console.log('  - peppers');\nif (program.pineapple) console.log('  - pineapple');\nif (program.bbqSauce) console.log('  - bbq');\nconsole.log('  - %s cheese', program.cheese);",lang:"js"}),r.a.createElement("p",null,"\u8fd9\u662f\u5b98\u65b9\u7ed9\u51fademo"),r.a.createElement("p",null,"\u9996\u5148\u6211\u662f\u60f3\u5f7b\u5e95\u7814\u7a76\u61c2 \u6240\u4ee5\u6211\u5c31\u4e5f\u7167\u846b\u82a6\u753b\u74e2\u5efa\u4e86\u4e00\u4e2a own-tools \u7684\u76ee\u5f55 \u628a\u4e0a\u9762\u7684\u4ee3\u7801\u653e\u5165"),r.a.createElement("p",null,"lib/cli/index.js"),r.a.createElement("p",null,"\u5e76\u5728package.json \u7684bin \u5b57\u6bb5\u6dfb\u52a0\u5982\u4e0b\u4ee3\u7801"),r.a.createElement(a["a"],{code:'"bin": {\n    "own-tools": "./bin/own-tools.js",\n    "own-tools-run": "./bin/own-tools-run.js"\n},',lang:"js"}),r.a.createElement("p",null,"bin/own-tools.js"),r.a.createElement(a["a"],{code:"#!/usr/bin/env node\nrequire('../lib/cli/');",lang:"js"}),r.a.createElement("p",null,"\u65b0\u5efa bin/own-tools-run.js  \uff08\u7a7a\u6587\u4ef6\uff09"),r.a.createElement("p",null,"\u7136\u540e\u6267\u884c",r.a.createElement("code",null,"npm run link"),"\u5efa\u7acb\u8f6f\u8fde\u63a5"),r.a.createElement("p",null,"\u7136\u540e\u6267\u884c ",r.a.createElement("code",null,"own-tools -p"),"\u8f93\u51fa\u5982\u4e0b\uff1a"),r.a.createElement(a["a"],{code:"you ordered a pizza with:\n  - peppers\n  - marble cheese 1",lang:"bash"}),r.a.createElement("p",null,"\u6267\u884c",r.a.createElement("code",null,"own-tools -c name"),"\u8f93\u51fa\u5982\u4e0b\uff1a"),r.a.createElement(a["a"],{code:"you ordered a pizza with:\n  - name cheese",lang:"bash"}),r.a.createElement("p",null,"\u7531\u6b64\u53ef\u89c1"),r.a.createElement(a["a"],{code:"commander\u7684option\u9009\u9879\n\u7528\u6237\uff1a.option('-n, --name <name>', 'your name', 'GK')\n\n\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u9009\u9879\u5b9a\u4e49\uff0c\u5206\u4e3a\u77ed\u5b9a\u4e49\u548c\u957f\u5b9a\u4e49\u3002\u7528|\uff0c,\uff0c\u8fde\u63a5\u3002\n\u53c2\u6570\u53ef\u4ee5\u7528<>\u6216\u8005[]\u4fee\u9970\uff0c\u524d\u8005\u610f\u4e3a\u5fc5\u987b\u53c2\u6570\uff0c\u540e\u8005\u610f\u4e3a\u53ef\u9009\u53c2\u6570\u3002\n\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u9009\u9879\u63cf\u8ff0\n\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u9009\u9879\u53c2\u6570\u9ed8\u8ba4\u503c\uff0c\u53ef\u9009\u3002",lang:"js"}),r.a.createElement("p",null,r.a.createElement("strong",null,"\u5c24\u5176\u6ce8\u610f commander \u7684\u5b50\u547d\u4ee4\u6a21\u5f0f"),r.a.createElement("code",null,".command('run [name]', 'run specified task')\uff1a")),r.a.createElement("p",null,"\u5b98\u65b9\u89e3\u91ca\u5982\u4e0b\uff1a"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"\u5f53 .command() \u5e26\u6709\u63cf\u8ff0\u53c2\u6570\u65f6\uff0c\u4e0d\u80fd\u91c7\u7528 .action(callback) \u6765\u5904\u7406\u5b50\u547d\u4ee4\uff0c\u5426\u5219\u4f1a\u51fa\u9519\u3002\u8fd9\u544a\u8bc9 commander\uff0c\u4f60\u5c06\u91c7\u7528\u5355\u72ec\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4f5c\u4e3a\u5b50\u547d\u4ee4\uff0c\u5c31\u50cf git(1) \u548c\u5176\u4ed6\u6d41\u884c\u7684\u5de5\u5177\u4e00\u6837\u3002 Commander \u5c06\u4f1a\u5c1d\u8bd5\u5728\u5165\u53e3\u811a\u672c\uff08\u4f8b\u5982 ./examples/pm\uff09\u7684\u76ee\u5f55\u4e2d\u641c\u7d22 program-command \u5f62\u5f0f\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f8b\u5982 pm-install, pm-search\u3002")),r.a.createElement("p",null,"\u5177\u4f53\u610f\u601d\u5c31\u662f\u8bf4\u5f53",r.a.createElement("code",null,".command")," \u51fd\u6570\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\u65f6\u4e0d\u80fd\u7528.action(callback) \u6765\u5904\u7406\u5b50\u547d\u4ee4,\u4ed6\u5c06\u8fdb\u5165\u5b50\u547d\u4ee4\u6a21\u5f0f \uff0c\u90a3",r.a.createElement("code",null,"\u4ec0\u4e48\u662f\u5b50\u547d\u4ee4\u6a21\u5f0f\uff1f")),r.a.createElement(a["a"],{code:"program\n  .version(packageInfo.version)\n  .command('run [name]', 'run specified task')\n  .parse(process.argv);",lang:"js"}),r.a.createElement("p",null,"\u4ee5\u4e0a\u9762\u4ee3\u7801\u4e3a\u4f8b  \uff0c\u5047\u5982\u6211\u5728\u547d\u4ee4\u884c\u6267\u884c ",r.a.createElement("code",null,"own-tools  run"),"\u90a3\u4e48\u7a0b\u5e8f\u5c06\u5728\u6211\u4eec\u4e4b\u524dpackage.json\u4e2dbin\u5b57\u6bb5\u914d\u7f6e\u7684\u6587\u4ef6\u6839\u76ee\u5f55\u4e0b\u5bfb\u627e\u540d\u4e3aown-tools-run.js \u7684\u6587\u4ef6\u6765\u6267\u884c"),r.a.createElement("h3",{id:"\u5728\u770bantd-tools-\u7684\u4ee3\u7801\u5c31\u5bb9\u6613\u7406\u89e3\u4e86"},r.a.createElement(o["AnchorLink"],{to:"#\u5728\u770bantd-tools-\u7684\u4ee3\u7801\u5c31\u5bb9\u6613\u7406\u89e3\u4e86","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5728\u770bantd-tools \u7684\u4ee3\u7801\u5c31\u5bb9\u6613\u7406\u89e3\u4e86"),r.a.createElement(a["a"],{code:"'use strict';\n// \u547d\u4ee4\u884c\u6dfb\u52a0\u8272\u5f69\nrequire('colorful').colorful();\n// commander.js\u662fTJ\u6240\u5199\u7684\u4e00\u4e2a\u5de5\u5177\u5305\uff0c\u5176\u4f5c\u7528\u662f\u8ba9node\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u5236\u4f5c\u66f4\u52a0\u7b80\u5355\nconst program = require('commander');\nconst packageInfo = require('../../package.json');\n\nprogram\n  .version(packageInfo.version)\n  .command('run [name]', 'run specified task')\n  .parse(process.argv);\n\n// https://github.com/tj/commander.js/pull/260\nconst proc = program.runningCommand;\nif (proc) {\n  proc.on('close', process.exit.bind(process));\n  proc.on('error', () => {\n    process.exit(1);\n  });\n}\n\nconst subCmd = program.args[0];\nif (!subCmd || subCmd !== 'run') {\n  program.help();\n}",lang:"js"}),r.a.createElement("p",null,"\u4e0a\u9762\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u4f7f\u7528tj\u5927\u795e\u7684commander.js\u5de5\u5177\uff0c\u5173\u952e\u5728\u4e8eparse\u65b9\u6cd5\u4e0a\u3002\u8be5\u65b9\u6cd5\u89e3\u6790argv, \u8bbe\u7f6eoptions, \u5982\u679c\u6709\u5b9a\u4e49\u547d\u4ee4\uff0c\u5219\u8c03\u7528\u5b83\u3002"),r.a.createElement("p",null,"\u8fd9\u91cc\u8f93\u5165 own-tools run dist \u6267\u884c\u7684\u662fcommander \u7684\u5b50\u547d\u4ee4\u6a21\u5f0f \u5c31\u662f\u53bb ./bin/    \u76ee\u5f55\u4e0b\u5bfb\u627e\u4e00\u4e2a\u53ebown-tools-run.js \u7684\u6587\u4ef6 \u7ed9\u4ed6\u4f20\u4e00\u4e2a dist \u53c2\u6570",r.a.createElement("code",null,"own-tools-run.js"),"\u6700\u7ec8\u6267\u884c\u7684\u662f",r.a.createElement("code",null,"lib/cli/run.js")),r.a.createElement(a["a"],{code:"#!/usr/bin/env node\n\n'use strict';\n\nrequire('colorful').colorful();\nconst gulp = require('gulp');\nconst program = require('commander');\n\nprogram.on('--help', () => {\n  console.log('  Usage:'.to.bold.blue.color);\n  console.log();\n});\n\nprogram.parse(process.argv);\n\nfunction runTask(toRun) {\n  const metadata = { task: toRun };\n  // Gulp >= 4.0.0 (doesn't support events)\n  const taskInstance = gulp.task(toRun);\n  if (taskInstance === undefined) {\n    gulp.emit('task_not_found', metadata);\n    return;\n  }\n  const start = process.hrtime();\n  gulp.emit('task_start', metadata);\n  try {\n    taskInstance.apply(gulp);\n    metadata.hrDuration = process.hrtime(start);\n    gulp.emit('task_stop', metadata);\n    gulp.emit('stop');\n  } catch (err) {\n    err.hrDuration = process.hrtime(start);\n    err.task = metadata.task;\n    gulp.emit('task_err', err);\n  }\n}\n\nconst task = program.args[0];\n\nif (!task) {\n  program.help();\n} else {\n  console.log('antd-tools run', task);\n\n  require('../gulpfile');\n\n  runTask(task);\n}",lang:"js"}),r.a.createElement("p",null,"\u8fd9\u91cc\u5c31\u662f\u8c03\u7528\u8be5\u811a\u672c\uff0ctask \u4e3aown-tools run \u7684\u65f6\u5019\u4f20\u8fdb\u6765\u7684\u503c\u3002"),r.a.createElement(a["a"],{code:"#!/usr/bin/env node\n\n'use strict';\n\nrequire('colorful').colorful();\nconst gulp = require('gulp');\nconst program = require('commander');\n\nprogram.on('--help', () => {\n  console.log('  Usage:'.to.bold.blue.color);\n  console.log();\n});\n\nprogram.parse(process.argv);\n\nfunction runTask(toRun) {\n  const metadata = { task: toRun };\n  // Gulp >= 4.0.0 (doesn't support events)\n  const taskInstance = gulp.task(toRun);\n  if (taskInstance === undefined) {\n    gulp.emit('task_not_found', metadata);\n    return;\n  }\n  const start = process.hrtime();\n  gulp.emit('task_start', metadata);\n  try {\n    taskInstance.apply(gulp);\n    metadata.hrDuration = process.hrtime(start);\n    gulp.emit('task_stop', metadata);\n    gulp.emit('stop');\n  } catch (err) {\n    err.hrDuration = process.hrtime(start);\n    err.task = metadata.task;\n    gulp.emit('task_err', err);\n  }\n}\n\nconst task = program.args[0];\n\nif (!task) {\n  program.help();\n} else {\n  console.log('antd-tools run', task);\n\n  require('../gulpfile');\n\n  runTask(task);\n}",lang:"js"}),r.a.createElement("p",null,"\u8fd9\u91cc\u53bbrequire('../gulpfile') \u6267\u884ctask"),r.a.createElement(a["a"],{code:"const { getProjectPath, injectRequire } = require('./utils/projectHelper'); // eslint-disable-line import/order\n//\u5982\u679c\u5f53\u524d\u5305\u7684\u76ee\u5f55\u91cc\u9762\u6ca1\u6709\u6240\u9700\u4f9d\u8d56 \u7edf\u4e00\u5230\u6700\u5916\u5c42\u7684node_modules \u76ee\u5f55\u4e0b\u8bfb\u53d6 \ninjectRequire();\n// \u5c06\u591a\u4e2a\u6d41\u6309\u987a\u5e8f\u6216\u5e76\u884c\u5408\u5e76\u4e3a\u4e00\u4e2a\u6d41 \nconst merge2 = require('merge2');\n//child_process \u662fnode\u7684\u539f\u751f\u6a21\u5757  \u7528\u4e8e\u65b0\u5efa\u5b50\u8fdb\u7a0b\u3002\u5b50\u8fdb\u7a0b\u7684\u8fd0\u884c\u7ed3\u679c\u50a8\u5b58\u5728\u7cfb\u7edf\u7f13\u5b58\u4e4b\u4e2d\uff08\u6700\u5927200KB\uff09\uff0c\u7b49\u5230\u5b50\u8fdb\u7a0b\u8fd0\u884c\u7ed3\u675f\u4ee5\u540e\uff0c\u4e3b\u8fdb\u7a0b\u518d\u7528\u56de\u8c03\u51fd\u6570\u8bfb\u53d6\u5b50\u8fdb\u7a0b\u7684\u8fd0\u884c\u7ed3\u679c\u3002\n//execSync \u53ef\u4ee5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6240\u8981\u6267\u884c\u7684\u547d\u4ee4\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7528\u6765\u914d\u7f6e\u6267\u884c\u73af\u5883\u3002\n//\u4f1a\u963b\u585e Node.js \u4e8b\u4ef6\u5faa\u73af\n/*\n  execSync(\u2018cnpm i freetool\u2019, {\n    cwd: process.cwd()\n  });\n */\nconst { execSync } = require('child_process');\n\nconst through2 = require('through2');\nconst webpack = require('webpack');\nconst babel = require('gulp-babel');\nconst argv = require('minimist')(process.argv.slice(2));\nconst chalk = require('chalk');\nconst path = require('path');\nconst watch = require('gulp-watch');\nconst ts = require('gulp-typescript');\nconst gulp = require('gulp');\nconst fs = require('fs');\nconst rimraf = require('rimraf');\nconst stripCode = require('gulp-strip-code');\nconst install = require('./install');\nconst runCmd = require('./runCmd');\nconst getBabelCommonConfig = require('./getBabelCommonConfig');\nconst transformLess = require('./transformLess');\nconst getNpm = require('./getNpm');\nconst selfPackage = require('../package.json');\nconst getNpmArgs = require('./utils/get-npm-args');\nconst { cssInjection } = require('./utils/styleUtil');\nconst tsConfig = require('./getTSCommonConfig')();\nconst replaceLib = require('./replaceLib');\n\nconst packageJson = require(getProjectPath('package.json'));\n\nconst tsDefaultReporter = ts.reporter.defaultReporter();\nconst cwd = process.cwd();\nconst libDir = getProjectPath('lib');\nconst esDir = getProjectPath('es');\n\nfunction dist(done) {\n  rimraf.sync(getProjectPath('dist'));\n  process.env.RUN_ENV = 'PRODUCTION';\n  const webpackConfig = require(getProjectPath('webpack.config.js'));\n  webpack(webpackConfig, (err, stats) => {\n    if (err) {\n      console.error(err.stack || err);\n      if (err.details) {\n        console.error(err.details);\n      }\n      return;\n    }\n\n    const info = stats.toJson();\n\n    if (stats.hasErrors()) {\n      console.error(info.errors);\n    }\n\n    if (stats.hasWarnings()) {\n      console.warn(info.warnings);\n    }\n\n    const buildInfo = stats.toString({\n      colors: true,\n      children: true,\n      chunks: false,\n      modules: false,\n      chunkModules: false,\n      hash: false,\n      version: false,\n    });\n    console.log(buildInfo);\n    done(0);\n  });\n}\n\nfunction tag() {\n  console.log('tagging');\n  const { version } = packageJson;\n  execSync(`git tag ${version}`);\n  execSync(`git push origin ${version}:${version}`);\n  execSync('git push origin master:master');\n  console.log('tagged');\n}\n\ngulp.task(\n  'check-git',\n  gulp.series(done => {\n    runCmd('git', ['status', '--porcelain'], (code, result) => {\n      if (/^\\?\\?/m.test(result)) {\n        return done(`There are untracked files in the working tree.\\n${result}\n      `);\n      }\n      if (/^([ADRM]| [ADRM])/m.test(result)) {\n        return done(`There are uncommitted changes in the working tree.\\n${result}\n      `);\n      }\n      return done();\n    });\n  })\n);\n\ngulp.task('clean', () => {\n  rimraf.sync(getProjectPath('_site'));\n  rimraf.sync(getProjectPath('_data'));\n});\n\ngulp.task(\n  'dist',\n  gulp.series(done => {\n    dist(done);\n  })\n);\n\ngulp.task(\n  'ts-lint',\n  gulp.series(done => {\n    const tslintBin = require.resolve('tslint/bin/tslint');\n    const tslintConfig = path.join(__dirname, './tslint.json');\n    const args = [tslintBin, '-c', tslintConfig, 'components/**/*.tsx'];\n    runCmd('node', args, done);\n  })\n);\n\ngulp.task(\n  'ts-lint-fix',\n  gulp.series(done => {\n    const tslintBin = require.resolve('tslint/bin/tslint');\n    const tslintConfig = path.join(__dirname, './tslint.json');\n    const args = [tslintBin, '-c', tslintConfig, 'components/**/*.tsx', '--fix'];\n    runCmd('node', args, done);\n  })\n);\n\nconst tsFiles = ['**/*.ts', '**/*.tsx', '!node_modules/**/*.*', 'typings/**/*.d.ts'];\n\nfunction compileTs(stream) {\n  return stream\n    .pipe(ts(tsConfig))\n    .js.pipe(\n      through2.obj(function(file, encoding, next) {\n        // console.log(file.path, file.base);\n        file.path = file.path.replace(/\\.[jt]sx$/, '.js');\n        this.push(file);\n        next();\n      })\n    )\n    .pipe(gulp.dest(process.cwd()));\n}\n\ngulp.task('tsc', () =>\n  compileTs(\n    gulp.src(tsFiles, {\n      base: cwd,\n    })\n  )\n);\n\ngulp.task(\n  'watch-tsc',\n  gulp.series('tsc', () => {\n    watch(tsFiles, f => {\n      if (f.event === 'unlink') {\n        const fileToDelete = f.path.replace(/\\.tsx?$/, '.js');\n        if (fs.existsSync(fileToDelete)) {\n          fs.unlinkSync(fileToDelete);\n        }\n        return;\n      }\n      const myPath = path.relative(cwd, f.path);\n      compileTs(\n        gulp.src([myPath, 'typings/**/*.d.ts'], {\n          base: cwd,\n        })\n      );\n    });\n  })\n);\n\nfunction babelify(js, modules) {\n  const babelConfig = getBabelCommonConfig(modules);\n  delete babelConfig.cacheDirectory;\n  if (modules === false) {\n    babelConfig.plugins.push(replaceLib);\n  } else {\n    babelConfig.plugins.push(require.resolve('babel-plugin-add-module-exports'));\n  }\n  let stream = js.pipe(babel(babelConfig)).pipe(\n    through2.obj(function z(file, encoding, next) {\n      this.push(file.clone());\n      if (file.path.match(/(\\/|\\\\)style(\\/|\\\\)index\\.js/)) {\n        const content = file.contents.toString(encoding);\n        if (content.indexOf(\"'react-native'\") !== -1) {\n          // actually in antd-mobile@2.0, this case will never run,\n          // since we both split style/index.mative.js style/index.js\n          // but let us keep this check at here\n          // in case some of our developer made a file name mistake ==\n          next();\n          return;\n        }\n\n        file.contents = Buffer.from(cssInjection(content));\n        file.path = file.path.replace(/index\\.js/, 'css.js');\n        this.push(file);\n        next();\n      } else {\n        next();\n      }\n    })\n  );\n  if (modules === false) {\n    stream = stream.pipe(\n      stripCode({\n        start_comment: '@remove-on-es-build-begin',\n        end_comment: '@remove-on-es-build-end',\n      })\n    );\n  }\n  return stream.pipe(gulp.dest(modules === false ? esDir : libDir));\n}\n\nfunction compile(modules) {\n  rimraf.sync(modules !== false ? libDir : esDir);\n  const less = gulp\n    .src(['components/**/*.less'])\n    .pipe(\n      through2.obj(function(file, encoding, next) {\n        this.push(file.clone());\n        if (\n          file.path.match(/(\\/|\\\\)style(\\/|\\\\)index\\.less$/) ||\n          file.path.match(/(\\/|\\\\)style(\\/|\\\\)v2-compatible-reset\\.less$/)\n        ) {\n          transformLess(file.path)\n            .then(css => {\n              file.contents = Buffer.from(css);\n              file.path = file.path.replace(/\\.less$/, '.css');\n              this.push(file);\n              next();\n            })\n            .catch(e => {\n              console.error(e);\n            });\n        } else {\n          next();\n        }\n      })\n    )\n    .pipe(gulp.dest(modules === false ? esDir : libDir));\n  const assets = gulp\n    .src(['components/**/*.@(png|svg)'])\n    .pipe(gulp.dest(modules === false ? esDir : libDir));\n  let error = 0;\n  const source = ['components/**/*.tsx', 'components/**/*.ts', 'typings/**/*.d.ts'];\n  // allow jsx file in components/xxx/\n  if (tsConfig.allowJs) {\n    source.unshift('components/**/*.jsx');\n  }\n  const tsResult = gulp.src(source).pipe(\n    ts(tsConfig, {\n      error(e) {\n        tsDefaultReporter.error(e);\n        error = 1;\n      },\n      finish: tsDefaultReporter.finish,\n    })\n  );\n\n  function check() {\n    if (error && !argv['ignore-error']) {\n      process.exit(1);\n    }\n  }\n\n  tsResult.on('finish', check);\n  tsResult.on('end', check);\n  const tsFilesStream = babelify(tsResult.js, modules);\n  const tsd = tsResult.dts.pipe(gulp.dest(modules === false ? esDir : libDir));\n  return merge2([less, tsFilesStream, tsd, assets]);\n}\n\nfunction publish(tagString, done) {\n  let args = ['publish', '--with-antd-tools', '--access=public'];\n  if (tagString) {\n    args = args.concat(['--tag', tagString]);\n  }\n  const publishNpm = process.env.PUBLISH_NPM_CLI || 'npm';\n  runCmd(publishNpm, args, code => {\n    if (!argv['skip-tag']) {\n      tag();\n    }\n    done(code);\n  });\n}\n\nfunction pub(done) {\n  dist(code => {\n    if (code) {\n      done(code);\n      return;\n    }\n    const notOk = !packageJson.version.match(/^\\d+\\.\\d+\\.\\d+$/);\n    let tagString;\n    if (argv['npm-tag']) {\n      tagString = argv['npm-tag'];\n    }\n    if (!tagString && notOk) {\n      tagString = 'next';\n    }\n    if (packageJson.scripts['pre-publish']) {\n      runCmd('npm', ['run', 'pre-publish'], code2 => {\n        if (code2) {\n          done(code2);\n          return;\n        }\n        publish(tagString, done);\n      });\n    } else {\n      publish(tagString, done);\n    }\n  });\n}\n\ngulp.task('compile-with-es', done => {\n  console.log('[Parallel] Compile to es...');\n  compile(false).on('finish', done);\n});\n\ngulp.task('compile-with-lib', done => {\n  console.log('[Parallel] Compile to js...');\n  compile().on('finish', done);\n});\n\ngulp.task('compile', gulp.parallel('compile-with-es', 'compile-with-lib'));\n\ngulp.task(\n  'install',\n  gulp.series(done => {\n    install(done);\n  })\n);\n\ngulp.task(\n  'pub',\n  gulp.series('check-git', 'compile', done => {\n    pub(done);\n  })\n);\n\ngulp.task(\n  'update-self',\n  gulp.series(done => {\n    getNpm(npm => {\n      console.log(`${npm} updating ${selfPackage.name}`);\n      runCmd(npm, ['update', selfPackage.name], c => {\n        console.log(`${npm} update ${selfPackage.name} end`);\n        done(c);\n      });\n    });\n  })\n);\n\nfunction reportError() {\n  console.log(chalk.bgRed('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!'));\n  console.log(chalk.bgRed('!! `npm publish` is forbidden for this package. !!'));\n  console.log(chalk.bgRed('!! Use `npm run pub` instead.        !!'));\n  console.log(chalk.bgRed('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!'));\n}\n\ngulp.task(\n  'guard',\n  gulp.series(done => {\n    const npmArgs = getNpmArgs();\n    if (npmArgs) {\n      for (let arg = npmArgs.shift(); arg; arg = npmArgs.shift()) {\n        if (/^pu(b(l(i(sh?)?)?)?)?$/.test(arg) && npmArgs.indexOf('--with-antd-tools') < 0) {\n          reportError();\n          done(1);\n          return;\n        }\n      }\n    }\n    done();\n  })\n);",lang:"js"})))}));e["default"]=n=>{var e=r.a.useContext(o["context"]),t=e.demos;return r.a.useEffect((()=>{var e;null!==n&&void 0!==n&&null!==(e=n.location)&&void 0!==e&&e.hash&&o["AnchorLink"].scrollToAnchor(decodeURIComponent(n.location.hash.slice(1)))}),[]),r.a.createElement(l,{demos:t})}}}]);